<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
  <head profile="http://gmpg.org/xfn/11">
    <title>Windows Workflow Foundation &mdash; In Valid Logic</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="description" content="Endlessly expanding technology" />
    <meta name="author" content="Ken Robertson" />
    <meta name="generator" content="jekyll" />

    <link href="/css/site.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/css/pygments/trac.css" rel="stylesheet" type="text/css" media="screen" />

    <link href="/atom.xml" rel="alternate" title="Ken Robertson's Atom Feed" type="application/atom+xml" />
    <link href="/rss.xml" rel="alternate" title="Ken Robertson's RSS Feed" type="application/rss+xml" />

    <link rel='index' title='In Valid Logic' href='http://invalidlogic.com/' />
  </head>

<body>
  <div id="container" class="group">

    <h1><a href="http://invalidlogic.com">In Valid Logic</a></h1>
    <div id="bubble"><p>Endlessly expanding technology</p></div>

    <div id="content" class="group">
      <h2>Windows Workflow Foundation</h2>

<div class="main">
  <p><a href="http://www.amazon.com/exec/obidos/redirect?path=ASIN/0672328488&amp;link_code=as2&amp;camp=1789&amp;tag=qgyennet-20&amp;creative=9325" title = "Presenting Windows Workflow Foundation"><img src="http://images.amazon.com/images/P/0672328488.01._AA_SCTZZZZZZZ_.jpg" hspace="5" align = "right" border ="0"></a>
Lately, I've been looking at using <a href="http://www.windowsworkflow.net/">Windows Workflow Foundation</a>.  Figured it out soley based on webcasts and articles wasn't getting me too far, so I picked up a copy of <a href="http://www.amazon.com/exec/obidos/redirect?path=ASIN/0672328488&amp;link_code=as2&amp;camp=1789&amp;tag=qgyennet-20&amp;creative=9325">Presenting Windows Workflow Foundation</a> and have started reading through it.</p>




<p>Overall, WWF looks very exciting.  It makes it much easier to logically break up the functionality of a program and visually see how all the parts are connected.  It is not suited for all types of programs, since there is a certain threshold of complexity where the cost of taking longer to develop (creating activities and wiring it up would take a little longer than straight code) would not be justified with a basic operation.  More complex things can greatly benefit as it is more visual, easier to see how things separate, debug activities since they are more encapsulated.  And on top of that, the workflows are dynamic so they can easily be changed to meet certain customers needs.</p>




<p>After reading through some of the book, I decided to take a stab at writing my own workflow and some of my own activities.  One of the places I'm looking at using WWF is for Community Server :: Mail Gateway, so I thought I'd start off with a workflow to process messages.  After almost 6 six hours last night, I finally had a workflow that would loop through the To/CC and find valid To addresses and a valid sender.  All this for code that would have taken me about 10-15 mins to write.  This amount of time in development is not realistic.  Most of it was starting with something, realizing it wasn't the best way, and then starting over.  I wrote some of the activities probably half a dozen times as I was figuring out the best ways to do the processing and pass the data around.</p>




<p>So after the 6 hours, I had a workflow, with the activities, it all compiled without any issues, so I decided to fire it off.  SPLAT.  Crashes upon execution with a type invocation error (a common error I was having, not very explanatory, but I'd usually track it down, though before it was always a compiler error, not runtime).  After that, I gave up and went to bed.</p>




<p>After thinking about it some, I think I've realized my problem.  I was using the workflow to desribe the functionality of my program at too low of a level.  IE, I created an activity that used while activity to loop through a collection and then fired off another custom activity to process each item.  This is far more complex than it really needs to be, and not much is gained by it.  Instead, I should use the workflow to describe a higher level of functionality.  So I should create an activity that simply does the loop and processing all at once, in code, and then use the workflow to describe what operation it moves onto after that is done.</p>




<p>Additionally, I don't think Windows Workflow Foundation is ready for me to be putting into an application that is already stable and in production.  The release we are looking to use it for is still quite a ways off (Community Server v3.0), but I don't want to take something that is fairly stable right now, and add in this beta library that is still changing as a core dependency.  Already, I've found some example code in the book (which was written even before Beta1) that is no longer valid (current is Beta2).  Also found a couple of issues with the designer where it would be testy on listing activities I'd written or some errors where all I could do is close Visual Studio, then re-open it and it would be fine.</p>




<p>In summary, would have to say that Windows Workflow Foundation could certainly become a powerful tool to help make complex operations more dynamic and logical.  Workflows are best suited for complex operations and to describe them at a somewhat high level, as introducing workflow to these tasks adds a certain amount of additional complexity, but the advantage is that overall, it gains visual flow (more human unstandable), better separation/subdivision, and the ability to be dynamically changed.</p>




</div>

<div class="meta group">
  <div class="signature">
    <p>Wednesday, March 22, 2006</p>
  </div>	
  <div class="tags">
    &nbsp;
  </div>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'invalidlogic'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    // var disqus_identifier = 'unique_dynamic_id_1234';
    // var disqus_url = 'http://example.com/permalink-to-page.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<div class="paginator">
  
    <div class="previous">&larr; <a class="previous" href="/2006/03/21/going-paperless-realistic/" title="Previous post: Going paperless realistic?">Going paperless realistic?</a></div>
  
  
  
    <div class="next"><a class="next" href="/2006/03/23/vongo-not-going-to-replace-netflix/" title="Next post: Vongo not going to replace Netflix">Vongo not going to replace Netflix</a> &rarr;</div>
  
</div>
    </div>

    <div id="sidebar">
      <h3>About</h3>
      <div class="textwidget">
        This is the personal blog of Ken Robertson.  I'm a developer at <a href="http://involver.com/">Involver</a> working in Ruby/Rails.  In a former life, I worked in .NET for many years and since moved on.<br/>
        <br/>
        Now, I get to make Rails scale, cook all day long with chef, and experiment with building highly concurrent systems.<br/>
        <br/>
        In my spare time, I like to build things.  I like to experiment with different technologies to find how they best fit onto my utility belt.<br/>
        <br/>
        I sometimes blog.  You'll find those things here.<br/>
        <br/>
        I sometimes code.  You'll find those on <a href="http://github.com/krobertson">Github</a>.<br/>
      </div>

      <h3>Search</h3>
      <form method="get" action="http://www.google.com/search">
        <div>
          <label class="screen-reader-text" for="s">Search for:</label>
          <input type="text" id="s" name="q" value="" />
          <input type="hidden" name="q" value="site:invalidlogic.com" />
          <input type="submit" id="searchsubmit" value="Search" />
        </div>
      </form>

      <h3>Recent Posts</h3>
      <ul>
        
          <li><a href="/2011/04/14/power-through-environments/">Power through environments</a></li>
        
          <li><a href="/2011/04/12/serving-static-content-via-post-from-nginx/">Serving Static Content Via POST From Nginx</a></li>
        
          <li><a href="/2011/02/16/our-pain-points-with-ec2/">Our pain points with EC2 and how our moved solved them</a></li>
        
          <li><a href="/2011/02/11/how-we-did-a-datacenter-migration-with-no-downtime/">How we did a datacenter migration with no downtime</a></li>
        
          <li><a href="/2011/02/07/how-a-deprecated-method-can-take-down-a-process/">How a deprecated method can take down a process</a></li>
        
    	</ul>
    </div>

  </div>

  <div id="footer">
    <p>The Journalist template by <a href="http://lucianmarin.com/" rel="designer">Lucian E. Marin</a></p>
  </div>
</body>
</html>