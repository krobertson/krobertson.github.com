<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
  <head profile="http://gmpg.org/xfn/11">
    <title>The joys of bnx2 on Debian Lenny with Dell servers &mdash; In Valid Logic</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="description" content="Endlessly expanding technology" />
    <meta name="author" content="Ken Robertson" />
    <meta name="generator" content="jekyll" />

    <link href="/css/site.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/css/pygments/trac.css" rel="stylesheet" type="text/css" media="screen" />

    <link href="/atom.xml" rel="alternate" title="Ken Robertson's Atom Feed" type="application/atom+xml" />
    <link href="/rss.xml" rel="alternate" title="Ken Robertson's RSS Feed" type="application/rss+xml" />

    <link rel='index' title='In Valid Logic' href='http://invalidlogic.com/' />
  </head>

<body>
  <div id="container" class="group">

    <h1><a href="http://invalidlogic.com">In Valid Logic</a></h1>
    <div id="bubble"><p>Endlessly expanding technology</p></div>

    <div id="content" class="group">
      <h2>The joys of bnx2 on Debian Lenny with Dell servers</h2>

<div class="main">
  <p>Last weekend, I was working on reinstalling Debian Lenny on one of my servers when I want into the same issue I've encountered time and time again.  I have a couple of Dell PowerEdge 1950s which use Broadcom network cards, and the Broadcom firmware is classified as non-free by Debian and not included on the network install CD (maybe others, thats the only one I use).  For some reason, Ubuntu includes the drivers, but Debian doesn't.  My eye-rolling aside, in this case I preferred Debian over Ubuntu.</p>




<p>Now the problem... I'm about 45 minutes away from my servers.  On all my own servers, one thing I had decided is an absolute must to have the remote management cards (DRAC5 in my 1950s) which supports remote console and virtual media.  This is awesome for remotely reinstalling an operating system, but not so good when it asks you for an additional driver by removable media... and of course, when it is your network card driver.</p>




<p>I don't quite recall how I got through it last time, though it involved a fair amount of coursing, particularly because the installer asks for the .fw file when it really just wants the .deb.</p>




<p>This time around, I found a <a href="http://docs.cellblue.nl/2009/04/10/getting-the-bnx2-driver-to-work-with-debian-lenny/">nicely prepared ISO with the deb on it</a>, however the DRAC only support one virtual CDROM, and it didn't seem to find it if I unmounted the installation media and mounted the ISO with the deb on it.</p>




<p>There was also some information about <a href="http://www.ducea.com/2009/03/02/debian-lenny-pxe-installation-on-dell-poweredge-19502950-servers-bnx2-annoyances/">PXE booting with the driver</a>, but that sounded like an overly complicated solution.</p>




<p>My route?  If it can't find it on the virtual cdrom, try the virtual floppy!  The deb is only 102kb, so just fire up <a href="http://magiciso.com/">Magic ISO</a>, create a new floppy image, copy it in, and save it.  Mount it to the virtual floppy and problem solved.</p>




<p>Encounter the same issue?  <a href="http://invalidlogic.com/files/downloads/firmware-bnx2_0.14-lenny2_all.zip">Download my floppy image!</a></p>




</div>

<div class="meta group">
  <div class="signature">
    <p>Tuesday, September 15, 2009</p>
  </div>	
  <div class="tags">
    &nbsp;
  </div>
</div>

<div class="paginator">
  
    <div class="previous">&larr; <a class="previous" href="/2009/08/11/tc5-0-search-adding-your-own-types-part-2/" title="Previous post: TC5.0 Search: Adding your own types, part 2">TC5.0 Search: Adding your own types, part 2</a></div>
  
  
  
    <div class="next"><a class="next" href="/2009/09/22/i-dont-get-medical-billing/" title="Next post: I don't get medical billing">I don't get medical billing</a> &rarr;</div>
  
</div>
    </div>

    <div id="sidebar">
      <h3>About</h3>
      <div class="textwidget">
        This is the personal blog of Ken Robertson.  I'm a developer at <a href="http://involver.com/">Involver</a> working in Ruby/Rails.  In a former life, I worked in .NET for many years and since moved on.<br/>
        <br/>
        In my spare time, I like to build things.  I like to experiment with different technologies to find how they best fit onto my utility belt.<br/>
        <br/>
        I sometimes blog.  You'll find those things here.<br/>
        <br/>
        I sometimes code.  You'll find those on <a href="http://github.com/krobertson">Github</a>.<br/>
      </div>

      <h3>Search</h3>
      <form method="get" action="http://www.google.com/search">
        <div>
          <label class="screen-reader-text" for="s">Search for:</label>
          <input type="text" id="s" name="q" value="" />
          <input type="hidden" name="q" value="site:jon.smajda.com" />
          <input type="submit" id="searchsubmit" value="Search" />
        </div>
      </form>

      <h3>Recent Posts</h3>
      <ul>
        
          <li><a href="/2010/10/25/tool-enlightenment-part-2/">Tool Enlightenment, Part 2</a></li>
        
          <li><a href="/2010/10/14/tool-enlightenment/">Tool Enlightenment</a></li>
        
          <li><a href="/2010/10/08/involver-team-and-matz/">Involver Team and Matz</a></li>
        
          <li><a href="/2010/09/16/you-got-rvm-and-git-in-my-command-prompt/">You got RVM and git in my command prompt!</a></li>
        
          <li><a href="/2010/09/08/the-future-of-papercut/">The Future of Papercut</a></li>
        
    	</ul>
    </div>

  </div>

  <div id="footer">
    <p>The Journalist template by <a href="http://lucianmarin.com/" rel="designer">Lucian E. Marin</a> &mdash; Built for <a href="http://wordpress.org/">WordPress</a></p>
  </div>

<!--
    <div id="nav">
            <h1><a href="/">In Valid Logic</a></h1>

            <ul>
                <li><a href="/archive/">Archive</a></li>
                <li><a href="/about/">About This Blog</a></li>
                <li><a href="/rss.xml">RSS</a> | <a href="/atom.xml">Atom</a></li>
            </ul>


            <h3>about me</h3>
            <p>I am a PhD candidate in sociology at the 
              <a href="http://www.soc.umn.edu">University of Minnesota</a>. I work for 
              <a href="http://contexts.org">Contexts</a>.</p>

            <h3>more me</h3>

            <ul>
                <li><a title="smajda.tumblr.com" href="http://smajda.tumblr.com">tumblr</a></li>
                <li><a title="@smajda on twitter" href="http://twitter.com/smajda">twitter</a></li>
                <li><a title="facebook.com/jonsmajda" href="http://facebook.com/jonsmajda">facebook</a></li>
                <li><a title="I do try" href="http://github.com/smajda">github</a></li>
                <li><a title="Silly music" href="http://soundcloud.com/smajda">soundcloud</a></li>
            </ul>

            <h3>aggregate feed</h3>
            <p>I made <a href="http://files.smajda.com/jon/feeds/aggregate/">an aggregate feed</a> of all my online activity. (I made it using <a href="http://simplepie.org/">SimplePie</a>. You can <a href="http://gist.github.com/204194">get the code here</a>.)</p>


    </div>

    <div id="content">


    <div id="footer">
        <p>The content of this site is licensed under a <br /><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/">Creative Commons Attribution-Noncommercial-Share Alike 3.0 license</a>.</p>

    </div>

    </div>
-->
</body>
</html>