<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
  <head profile="http://gmpg.org/xfn/11">
    <title>The joys of bnx2 on Debian Lenny with Dell servers &mdash; In Valid Logic</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="description" content="Endlessly expanding technology" />
    <meta name="author" content="Ken Robertson" />
    <meta name="generator" content="jekyll" />

    <link href="/css/site.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/css/pygments/trac.css" rel="stylesheet" type="text/css" media="screen" />

    <link href="/atom.xml" rel="alternate" title="Ken Robertson's Atom Feed" type="application/atom+xml" />
    <link href="/rss.xml" rel="alternate" title="Ken Robertson's RSS Feed" type="application/rss+xml" />

    <link rel='index' title='In Valid Logic' href='http://invalidlogic.com/' />
  </head>

<body>
  <div id="container" class="group">

    <h1><a href="http://invalidlogic.com">In Valid Logic</a></h1>
    <div id="bubble"><p>Endlessly expanding technology</p></div>

    <div id="content" class="group">
      <h2>The joys of bnx2 on Debian Lenny with Dell servers</h2>

<div class="main">
  <p>Last weekend, I was working on reinstalling Debian Lenny on one of my servers when I want into the same issue I've encountered time and time again.  I have a couple of Dell PowerEdge 1950s which use Broadcom network cards, and the Broadcom firmware is classified as non-free by Debian and not included on the network install CD (maybe others, thats the only one I use).  For some reason, Ubuntu includes the drivers, but Debian doesn't.  My eye-rolling aside, in this case I preferred Debian over Ubuntu.</p>




<p>Now the problem... I'm about 45 minutes away from my servers.  On all my own servers, one thing I had decided is an absolute must to have the remote management cards (DRAC5 in my 1950s) which supports remote console and virtual media.  This is awesome for remotely reinstalling an operating system, but not so good when it asks you for an additional driver by removable media... and of course, when it is your network card driver.</p>




<p>I don't quite recall how I got through it last time, though it involved a fair amount of coursing, particularly because the installer asks for the .fw file when it really just wants the .deb.</p>




<p>This time around, I found a <a href="http://docs.cellblue.nl/2009/04/10/getting-the-bnx2-driver-to-work-with-debian-lenny/">nicely prepared ISO with the deb on it</a>, however the DRAC only support one virtual CDROM, and it didn't seem to find it if I unmounted the installation media and mounted the ISO with the deb on it.</p>




<p>There was also some information about <a href="http://www.ducea.com/2009/03/02/debian-lenny-pxe-installation-on-dell-poweredge-19502950-servers-bnx2-annoyances/">PXE booting with the driver</a>, but that sounded like an overly complicated solution.</p>




<p>My route?  If it can't find it on the virtual cdrom, try the virtual floppy!  The deb is only 102kb, so just fire up <a href="http://magiciso.com/">Magic ISO</a>, create a new floppy image, copy it in, and save it.  Mount it to the virtual floppy and problem solved.</p>




<p>Encounter the same issue?  <a href="http://invalidlogic.com/files/downloads/firmware-bnx2_0.14-lenny2_all.zip">Download my floppy image!</a></p>




</div>

<div class="meta group">
  <div class="signature">
    <p>Tuesday, September 15, 2009</p>
  </div>	
  <div class="tags">
    &nbsp;
  </div>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'invalidlogic'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    // var disqus_identifier = 'unique_dynamic_id_1234';
    // var disqus_url = 'http://example.com/permalink-to-page.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<div class="paginator">
  
    <div class="previous">&larr; <a class="previous" href="/2009/08/11/tc5-0-search-adding-your-own-types-part-2/" title="Previous post: TC5.0 Search: Adding your own types, part 2">TC5.0 Search: Adding your own types, part 2</a></div>
  
  
  
    <div class="next"><a class="next" href="/2009/09/22/i-dont-get-medical-billing/" title="Next post: I don't get medical billing">I don't get medical billing</a> &rarr;</div>
  
</div>
    </div>

    <div id="sidebar">
      <h3>About</h3>
      <div class="textwidget">
        This is the personal blog of Ken Robertson.  I'm a developer at <a href="http://involver.com/">Involver</a> working in Ruby/Rails.  In a former life, I worked in .NET for many years and since moved on.<br/>
        <br/>
        Now, I get to make Rails scale, cook all day long with chef, and experiment with building highly concurrent systems.<br/>
        <br/>
        In my spare time, I like to build things.  I like to experiment with different technologies to find how they best fit onto my utility belt.<br/>
        <br/>
        I sometimes blog.  You'll find those things here.<br/>
        <br/>
        I sometimes code.  You'll find those on <a href="http://github.com/krobertson">Github</a>.<br/>
      </div>

      <h3>Search</h3>
      <form method="get" action="http://www.google.com/search">
        <div>
          <label class="screen-reader-text" for="s">Search for:</label>
          <input type="text" id="s" name="q" value="" />
          <input type="hidden" name="q" value="site:invalidlogic.com" />
          <input type="submit" id="searchsubmit" value="Search" />
        </div>
      </form>

      <h3>Recent Posts</h3>
      <ul>
        
          <li><a href="/2011/02/16/our-pain-points-with-ec2/">Our pain points with EC2 and how our moved solved them</a></li>
        
          <li><a href="/2011/02/11/how-we-did-a-datacenter-migration-with-no-downtime/">How we did a datacenter migration with no downtime</a></li>
        
          <li><a href="/2011/02/07/how-a-deprecated-method-can-take-down-a-process/">How a deprecated method can take down a process</a></li>
        
          <li><a href="/2011/01/19/love-your-dependency-management/">Love your dependency management</a></li>
        
          <li><a href="/2010/12/08/progress-through-iterating/">Progress through iterating</a></li>
        
    	</ul>
    </div>

  </div>

  <div id="footer">
    <p>The Journalist template by <a href="http://lucianmarin.com/" rel="designer">Lucian E. Marin</a></p>
  </div>
</body>
</html>