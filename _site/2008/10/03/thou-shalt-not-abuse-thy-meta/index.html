<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
  <head profile="http://gmpg.org/xfn/11">
    <title>Thou shalt not abuse thy meta &mdash; In Valid Logic</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="description" content="Endlessly expanding technology" />
    <meta name="author" content="Ken Robertson" />
    <meta name="generator" content="jekyll" />

    <link href="/css/site.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/css/pygments/trac.css" rel="stylesheet" type="text/css" media="screen" />

    <link href="/atom.xml" rel="alternate" title="Ken Robertson's Atom Feed" type="application/atom+xml" />
    <link href="/rss.xml" rel="alternate" title="Ken Robertson's RSS Feed" type="application/rss+xml" />

    <link rel='index' title='In Valid Logic' href='http://invalidlogic.com/' />
  </head>

<body>
  <div id="container" class="group">

    <h1><a href="http://invalidlogic.com">In Valid Logic</a></h1>
    <div id="bubble"><p>Endlessly expanding technology</p></div>

    <div id="content" class="group">
      <h2>Thou shalt not abuse thy meta</h2>

<div class="main">
  <p>I was browsing some code for utilizing webservices in Ruby the other day when I stumbled upon something that made me raise my eyebrow in a WTF moment.</p>




<p>This library, which will remain nameless, was pretty simple in nature, but it included some extensions to core types like File, String, Fixnum, and Symbol, which made it so you could do this:</p>




<pre><code class="ruby">def get(obj)
  siteroot = 'mydomain.com/api'
  open(http://siteroot/obj.xml) do |res|
    ...
  end
end</code></pre>




<p>I found it quite odd... creating URLs without making them strings?  Ok, kind of cool to look at.  But not very practical.  Sure you can tack some values together easily, but how useful is that?  Don't really gain any productivity.  Could easily just write it like this:</p>




<pre><code class="ruby">def get(obj)
  siteroot = 'mydomain.com/api'
  open("http://#{siteroot}/#{obj}.xml") do |res|
    ...
  end
end</code></pre>




<p>Not that much harder, and much clearer that it is a string!  The other way is far less readable, since you might get tripped up on what is a variable and what isn't.  Upon first glance, might not realize 'obj' is a variable and not a wannabe string.  But the .xml?  That isn't a variable, that is a wannabe string.</p>




<p>But it made me think... should a library take the liberty to extend the core, unless that is the purpose of the library?  Should a small (this was ~50 lines) library for aiding with webservices be extending the core classes?  You include this library and then the extensions are in your whole app, potentially colliding with others.  Since it made use of the method_missing method, what if another library you are using takes the same liberties on the same class, then you could get some odd behavior.</p>




<p>It is important to distinguish between a framework and a library though.  ASP.NET/ASP.NET MVC, Rails, Merb are all frameworks.  This one I was looking at was a library.  Frameworks are more encompassing.  You build a program on them, not with them... to put it visually, a library is a piece of a building, while a framework is the foundation.</p>




<p>I love Ruby, but one of the side effects of a dynamic language like it is that people can go overboard with the metaprogramming and can alter behavior in ways that don't always make sense or that could interfere with each other.</p>




<p>Moral of the story: Simple libraries shouldn't modify core classes.  Nifty meta tricks aren't needed.</p>




</div>

<div class="meta group">
  <div class="signature">
    <p>Friday, October 03, 2008</p>
  </div>	
  <div class="tags">
    &nbsp;
  </div>
</div>

<div class="paginator">
  
    <div class="previous">&larr; <a class="previous" href="/2008/09/30/latest-developments/" title="Previous post: Latest Developments">Latest Developments</a></div>
  
  
  
    <div class="next"><a class="next" href="/2008/10/04/who-are-they-trying-to-impress/" title="Next post: Who are they trying to impress?">Who are they trying to impress?</a> &rarr;</div>
  
</div>
    </div>

    <div id="sidebar">
      <h3>About</h3>
      <div class="textwidget">
        This is the personal blog of Ken Robertson.  I'm a developer at <a href="http://involver.com/">Involver</a> working in Ruby/Rails.  In a former life, I worked in .NET for many years and since moved on.<br/>
        <br/>
        Now, I get to make Rails scale, cook all day long with chef, and experiment with building highly concurrent systems.<br/>
        <br/>
        In my spare time, I like to build things.  I like to experiment with different technologies to find how they best fit onto my utility belt.<br/>
        <br/>
        I sometimes blog.  You'll find those things here.<br/>
        <br/>
        I sometimes code.  You'll find those on <a href="http://github.com/krobertson">Github</a>.<br/>
      </div>

      <h3>Search</h3>
      <form method="get" action="http://www.google.com/search">
        <div>
          <label class="screen-reader-text" for="s">Search for:</label>
          <input type="text" id="s" name="q" value="" />
          <input type="hidden" name="q" value="site:invalidlogic.com" />
          <input type="submit" id="searchsubmit" value="Search" />
        </div>
      </form>

      <h3>Recent Posts</h3>
      <ul>
        
          <li><a href="/2011/02/07/how-a-deprecated-method-can-take-down-a-process/">How a deprecated method can take down a process</a></li>
        
          <li><a href="/2011/01/19/love-your-dependency-management/">Love your dependency management</a></li>
        
          <li><a href="/2010/12/08/progress-through-iterating/">Progress through iterating</a></li>
        
          <li><a href="/2010/10/25/tool-enlightenment-part-2/">Tool Enlightenment, Part 2</a></li>
        
          <li><a href="/2010/10/14/tool-enlightenment/">Tool Enlightenment</a></li>
        
    	</ul>
    </div>

  </div>

  <div id="footer">
    <p>The Journalist template by <a href="http://lucianmarin.com/" rel="designer">Lucian E. Marin</a></p>
  </div>
</body>
</html>