--- 
wordpress_id: 496
layout: post
title: Team City & its levels of awesome
wordpress_url: http://invalidlogic.com/?p=496
---
Recently, I've been working on migrating our build process at <a href="http://telligent.com">Telligent</a> from using <a href="http://ccnet.thoughtworks.com/">Cruise Control .NET</a> to use <a href="http://www.jetbrains.com/teamcity/">JetBrain's Team City</a>.  Cruise Control has served us well, but after looking at the feature set of Team City, it had a number of things that we were wanting to leverage as we continued to expand our build process.  Was asked on Twitter what I liked so much about Team City versus Cruise Control, but there wasn't a good way to sum it up in 140 characters.  So here is a brief list of some of the reasons:
<ol>
	<li>No XML configuration files.  Granted, our builds are in <a href="http://nant.sourceforge.net/">NAnt</a>, so we're still married to XML, but creating a new build doesn't need to take any XML editing anymore.  Our build scripts have no hard coded values, everything it needs it passed in from Team City.  So we can go an existing build, click Copy, then just edit the configuration settings as needed.</li>
	<li>It queues builds.  We run a number of daily builds at 4pm Central and at that time, the build server comes to a screeching halt because all of them run at the same time.  We've <em>had</em> to stagger them an extend the timeout limit on several because of how slow it gets.  Team City instead runs one at a time, queues the others, and lets you prioritize the queue if you need to bump things up.</li>
	<li>Does more for you.  First of all, it exports the source from the main repository cache for you.  When building, you want to avoid working off the main repository cache since then you can get stuck with collisions on update, but with CC.NET, we always had to do the export and everything ourself.  Team City takes care of and reverts the source to a clean state one each run.</li>
	<li>Artifacts and cross dependencies.  In CC.NET, we always had a network share set up where we'd place built packages, but with Team City, they can be loaded back into the main site for storage and easily accessible.  On top of that, you can place dependencies between builds and have the artifacts extracted.  For instance, we have one built that fully packages a release every day.  We have another build that our Selenium tests.  We have a build dependency on them so that Team City extracts our latest package and the build script sets it up in IIS and runs against it.  As time goes on and we get more of our subcomponents into Team City, ensuring all subcomponents stay up to date will be automated and far easier.</li>
	<li>Streaming build log.  No longer do I need to wait for the build to be done to see what is going on.  Team City can stream the build log to the browser, so I can see where its at, what is hung up on, or if it did something wrong that wasn't an error, can stop the build and correct it.</li>
	<li>Easily customize builds.  A while ago, we'd built a "preview build" and then a short while afterwards, realized there was an issue with the build.  Not with the code, but just the build process.  We needed to send an updated one, but wasn't sure if the latest code was at a release-worthy state.  Luckily, Team City makes it super easy.  Right through the interface, I was able to kick off a new build of the same SVN revision as the earlier one.  It also was intelligent enough so that in the history, it distinguishes it so someone knows it is different and in the description, says it is a build of an earlier commit and out of line with the other builds.</li>
	<li>Test history.  We've just started pulling in our test builds, but one nice thing I've immediately notice is some of the rich reporting it has around test stats.  For instance, it shows when a test started failing (if its been in multiple builds), allows you assign someone to be responsible, allows you to track a test's history, and even identify problematic tests (probably ones that fail the most).  You can even track the test duration and see it change over time.</li>
</ol>
Overall, would have to sum Team City up as just being incredibly refined.

I know a number of people who have larger Cruise Control setups than us, but overall Team City brings a lot to the table and the cost factor makes it a dead on winner.  Team City can easily pay for itself just in terms of productivity.  But on top of that, it is free up to 20 build configurations!
